window.addEventListener("load", (event) => {
  const selector = ".headingScrollSection";
  let headingScrollSections = document.querySelectorAll(selector);

  headingScrollSections.forEach(function (headingScrollSection, index) {
    let sectionID = headingScrollSection.getAttribute("id");
    let t1 = new TimelineLite();
    let duration = 2000; // + 400 * items.length;
    let t1Scene = new ScrollMagic.Scene({
      triggerElement: "#" + sectionID,
      triggerHook: "0",
      duration: duration,
      offset: offset,
    }).setPin("#" + sectionID);

    const scrollItemSelector =
      "#" + sectionID + " .scrollable-items-container .scroll-item";
    let scrollItems = document.querySelectorAll(scrollItemSelector);

    scrollItems.forEach(function (scrollItem, index) {
      let itemID = scrollItem.getAttribute("id");
      t1.from("#" + sectionID + " #" + itemID, 1, {
        y: "100vh"
      }, "+=0");

    });

    t1Scene
      .setTween(t1)
      // .addIndicators()
      .addTo(controller);
  });
});
$(document).ready(function () {

  if ($(window).width() <= 767) {
    let mobileViewBgImg = $(".headingScrollSection").attr("data-mob-bg")
    $(".headingScrollSection").css("background-image", "url(" + mobileViewBgImg + ")")

  }
  let itemCount = document.querySelectorAll('.scroll-item').length;
  // let newDivId = 'scroll-item-' + (itemCount + 1);
  let newDivId = 'scroll-item-' + itemCount;
  let divElement = document.querySelector('.scroll-item.soundMediaContainer');
  if (divElement) {
    divElement.id = newDivId;
  }
});
