$(function(){
    function teaserMeteorAna(ctaText,nextPageURL,headingName,arrowClickedValue){
        dataLayer.push({
            'event':'teaser',
            'eventCategory':'teaser',
            'eventAction':ctaText,
            'eventLabel':nextPageURL,
            'headingName':headingName,
            'arrowClicked':arrowClickedValue
        })
    }
$(document).on("click",".teaserBtnAna",function(){
    let ctaText = $(this).text().trim();
    let nextPageURL = $(this).attr("href");
    if(nextPageURL == undefined || nextPageURL == "#"){
        nextPageURL = ""
    }
    let headingName = $(this).siblings(".teaser-title").text().trim();
    teaserMeteorAna(ctaText,nextPageURL,headingName,"")
});

$(document).on("click",".teaserCraouselAna .slick-arrow",function(){
    let arrowClickedValue = $(this).attr("aria-label");
    let nextPageURL = $(this).attr("href");
    if(nextPageURL == undefined || nextPageURL == "#"){
        nextPageURL = ""
    }
    teaserMeteorAna("Arrow",nextPageURL,"",arrowClickedValue)
});

});
$(document).ready(function(){

  if($(".section-teaser").hasClass("section-p4d-custom")) {
		$('.teaser-carousel').slick({
    	infinite: false,
        arrows: true,
        draggable: true,
  		slidesToShow: 3.3,
  		slidesToScroll: 1,
  		responsive: [{

            breakpoint: 992,
            settings: {
              slidesToShow: 2.3,
              infinite: false
            }

            }, {

            breakpoint: 767,
            settings: {
              slidesToShow: 1.3,
              infinite: false,
              draggable: true,
            }
            }]
     	});
     }
     else {
         $('.teaser-carousel').slick({
            infinite: true,
            arrows: true,
            draggable: true,
            slidesToShow: 3,
            slidesToScroll: 1,
            responsive: [{
    
                breakpoint: 992,
                settings: {
                  slidesToShow: 2,
                  infinite: true
                }
    
                }, {
    
                breakpoint: 767,
                settings: {
                  slidesToShow: 1,
                  infinite: true,
                  draggable: true,
                }
                }]
         });
     }

     $(".teaser-card").each(function(){
      let link =  $(this).children("a").attr("href");
           if (link == undefined) {
				} else {
					link = link.replace("/content/royal-enfield", '');
					link = link;
                    $(this).children("a").attr("href" ,link );
				}
      });

          });
